<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TrustPay - Pagamento por Voz</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Tela de In√≠cio: primeiro clique para liberar √°udio/microfone -->
  <div id="startScreen" class="start-screen">
    <div class="start-content">
      <div class="start-icon">üé§</div>
      <h1>TrustPay</h1>
      <p class="start-subtitle">Pagamento Totalmente por Voz</p>
      <p class="start-description">
        Para come√ßar, <strong>clique no bot√£o abaixo para liberar o som e o microfone</strong>.
        Depois voc√™ pode falar <em>"ajuda"</em> a qualquer momento para ouvir os comandos.
      </p>

      <!-- BOT√ÉO DO PRIMEIRO CLIQUE -->
      <button id="startBtn" class="start-btn" type="button" aria-label="Iniciar pagamento por voz">
        üéß Iniciar pagamento por voz
      </button>

      <p class="start-hint">Se o navegador perguntar, permita o acesso ao microfone.</p>
    </div>
  </div>

  <!-- App -->
  <main id="main" class="container" style="display:none;">
    <header class="header">
      <h1>Pagamento Seguro</h1>
      <p class="subtitle">TrustPay Voice System</p>
    </header>

    <div class="voice-status" id="voiceStatus" aria-live="assertive">
      üé§ Aguardando inicializa√ß√£o...
    </div>

    <!-- Sensor de √°udio -->
    <div id="audioVisualizer" class="audio-visualizer"></div>

    <!-- Etapa 1: Dados Pessoais -->
    <div class="step active" id="step1" data-step="1">
      <h2>Seus dados pessoais</h2>

      <div class="field">
        <label for="name">Nome completo</label>
        <input type="text" id="name" readonly />
        <span class="hint" id="nameHint"></span>
      </div>

      <div class="field">
        <label for="email">E-mail</label>
        <input type="email" id="email" readonly />
        <span class="hint" id="emailHint"></span>
      </div>

      <div class="field">
        <label for="cpf">CPF</label>
        <input type="text" id="cpf" readonly />
        <span class="hint" id="cpfHint"></span>
      </div>

      <div class="summary" id="summary">
        <p><strong id="productNameDisplay">Notebook Gamer Pro X15</strong></p>
        <p>Total: <strong id="productValueDisplay">R$ 2.499,00</strong></p>
      </div>

    </div>

    <!-- Etapa 2: Dados do Cart√£o -->
    <div class="step" id="step2" data-step="2">
      <h2>Dados do Cart√£o</h2>

      <div class="field">
        <label for="cardNumber">N√∫mero do Cart√£o</label>
        <input type="text" id="cardNumber" readonly />
        <span class="hint" id="cardNumberHint"></span>
      </div>

      <div class="field">
        <label for="cardName">Nome no Cart√£o</label>
        <input type="text" id="cardName" readonly />
        <span class="hint" id="cardNameHint"></span>
      </div>

      <div class="field">
        <label for="cardExpiry">Validade (MM/AA)</label>
        <input type="text" id="cardExpiry" readonly />
        <span class="hint" id="cardExpiryHint"></span>
      </div>

      <div class="field">
        <label for="cardCvv">CVV</label>
        <input type="text" id="cardCvv" readonly />
        <span class="hint" id="cardCvvHint"></span>
      </div>
    </div>

    <!-- Etapa 3: Confirma√ß√£o -->
    <div class="step" id="step3" data-step="3">
      <h2>‚úÖ Confirma√ß√£o</h2>
      <div class="confirmation" id="confirmData"></div>
      <p style="margin-top: 1.5rem; text-align: center; color: #4f46e5; font-weight: 600;">
        Diga "confirmar pagamento" para finalizar
      </p>
    </div>

    <!-- Sucesso -->
    <div class="step" id="success" style="display:none;">
      <div class="success">
        <div class="success-icon">‚úì</div>
        <h2>Pagamento Aprovado!</h2>
        <p><strong>ID:</strong> TP-k7hv2b-3f8a1c2d9e0f4b6a</p>
        <p><strong>Valor:</strong> R$ 2.499,00</p>
        <p class="date" id="transactionDate"></p>
        <div class="success-actions">
          <p class="action-hint">Diga "nova compra" para recome√ßar ou "sair" para encerrar</p>
        </div>
      </div>
    </div>

    <div class="help">
      <button id="helpBtn" aria-label="Ajuda">‚ùì</button>
    </div>
  </main>

  <!-- Toast e Live region -->
  <div id="toast" class="toast" role="alert" aria-live="assertive"></div>
  <div aria-live="polite" aria-atomic="true" class="sr-only" id="liveRegion"></div>

  <script src="script.js"></script>
</body>

</html>